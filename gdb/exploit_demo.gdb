# GDB Automated Demonstration Script
# Save as: exploit_demo.gdb
# 
# Usage:
# echo "hello" > input1.txt
# echo "AAAAAAAABBBB" > input2.txt
# python3 -c "print('A'*32)" > input3.txt
# gdb -x exploit_demo.gdb ./vulnerable

echo \n========================================\n
echo AUTOMATED BUFFER OVERFLOW DEMONSTRATION\n
echo ========================================\n\n
echo NOTE: This is a manual walkthrough script.\n
echo For fully automated demo, prepare input files first.\n\n

# Set up breakpoints
break check_password
echo [*] Breakpoint set at check_password\n\n

echo ========================================\n
echo INSTRUCTIONS:\n
echo ========================================\n
echo 1. Type 'run' and press Enter\n
echo 2. When prompted, enter: hello\n
echo 3. Use 'info locals' to see variables\n
echo 4. Use 'x/16xb &buffer' to see memory\n
echo 5. Type 'continue' to finish\n
echo 6. Type 'run' again for next test\n\n

echo Try these inputs in sequence:\n
echo - Test 1: hello (normal)\n
echo - Test 2: AAAAAAAABBBB (corrupts authenticated)\n
echo - Test 3: AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA (crashes)\n\n

echo Useful commands:\n
echo   info locals              - Show variables\n
echo   print &buffer            - Show buffer address\n
echo   print &authenticated     - Show authenticated address\n
echo   x/16xb &buffer          - View 16 bytes of memory\n
echo   x/4xw &buffer           - View as 4-byte words\n
echo   next                     - Execute next line\n
echo   continue                 - Continue execution\n\n

echo Ready to debug! Type 'run' to start.\n
